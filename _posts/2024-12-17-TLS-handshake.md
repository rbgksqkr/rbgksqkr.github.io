---
title: "[CS] TLS handshake"
layout: single
excerpt: TLS handshakeκ°€ μ–΄λ–»κ² μ΄λ¤„μ§€λ”μ§€ μ΄ν•΄ν•  μ μλ‹¤.

categories:
  - computer-science
tags: [CS, λ„¤νΈμ›ν¬]
toc_label: TLS handshake
---

## π’­ μμƒ μ§λ¬Έ

- TLS Handshakeλ€ λ¬΄μ—‡μΈκ°€μ”?
- TLS Handshakeμ—μ„ λ””μ§€ν„Έ μΈμ¦μ„λ” μ–΄λ–¤ μ—­ν• μ„ ν•λ‚μ”?
- TLS Handshake κ³Όμ •μ„ κ°„λ‹¨ν μ„¤λ…ν•΄μ£Όμ„Έμ”.
- TLS Handshakeκ°€ μ™„λ£λ ν›„ λ°μ΄ν„° μ „μ†΅μ€ μ–΄λ–¤ λ°©μ‹μΌλ΅ μ΄λ£¨μ–΄μ§€λ‚μ”?

<div class="red-box">
    <div>TLSλ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ— μ•μ „ν• ν†µμ‹ μ„ μ„ν•΄ μ‚¬μ©λλ” λ³΄μ• ν”„λ΅ν† μ½μ…λ‹λ‹¤.</div>
    <div>λ³΄ν†µ <mark class="high">μ›Ή λΈλΌμ°μ €μ™€ μ„λ²„ κ°„μ ν†µμ‹  λ°μ΄ν„°λ¥Ό μ•”νΈν™”</mark>ν•λ©°, HTTPS, FTPS λ“± λ³΄μ•μ΄ ν•„μ”ν• ν†µμ‹ μ—μ„λ§ μ‚¬μ©λ©λ‹λ‹¤.</div>
    <div>λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›κΈ° μ „, TLS handshakeλ¥Ό ν†µν•΄ μ„λ²„μ λ¬΄κ²°μ„±μ„ ν™•μΈν•κ³  λ€μΉ­ν‚¤λ¥Ό μ „λ‹¬ν•λ” κ³Όμ •μ…λ‹λ‹¤.</div>
    <div>μ΄ κ³Όμ •μ—μ„ μ–‘μΈ΅μ€ μ‚¬μ©ν•  ν”„λ΅ν† μ½ λ²„μ „κ³Ό μ•”νΈν™” λ°©μ‹μ„ λ§μ¶”κ³ , μ„λ²„λ” λ””μ§€ν„Έ μΈμ¦μ„λ¥Ό ν†µν•΄ μμ‹ μ μ‹ μ›μ„ μΈμ¦ν•©λ‹λ‹¤.</div>
    <div>TLS handshakeκ°€ μ™„λ£λλ©΄ λ™μΌν• μ„Έμ…ν‚¤λ¥Ό ν†µν•΄ μ•μ „ν•κ² ν†µμ‹ ν•  μ μμµλ‹λ‹¤.</div>
</div>

<img src="https://user-images.githubusercontent.com/34904741/139517776-f2cac636-5ce5-4815-981d-33905283bf13.png" width="400" />

## handshake κ³Όμ •

1. ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ—κ² client hello λ©”μ‹μ§€λ¥Ό λ‹΄μ•„ μ„λ²„λ΅ λ³΄λ‚Έλ‹¤. μ΄λ• ν΄λΌμ΄μ–ΈνΈκ°€ μ§€μ›ν•λ” ν”„λ΅ν† μ½ λ²„μ „κ³Ό μ•”νΈν™” λ°©μ‹μ„ λ‹΄μ•„ ν•¨κ» λ³΄λ‚Έλ‹¤.
2. μ„λ²„λ” μ„Έμ… IDμ™€ CA κ³µκ° μΈμ¦μ„λ¥Ό server hello λ©”μ‹μ§€μ™€ ν•¨κ» λ‹΄μ•„ μ‘λ‹µν•λ‹¤. ν†µμ‹  μ΄ν›„ μ‚¬μ©ν•  λ€μΉ­ν‚¤κ°€ μƒμ„±λκΈ° μ „μ—, CA μΈμ¦μ„μ—λ” <mark class="high">ν΄λΌμ΄μ–ΈνΈμ—μ„ handshake κ³Όμ • μ† μ•”νΈν™”μ— μ‚¬μ©ν•  κ³µκ°ν‚¤λ¥Ό λ‹΄κ³  μλ‹¤.</mark>
3. ν΄λΌμ΄μ–ΈνΈ μΈ΅μ€ μ„λ²„μ—μ„ λ³΄λ‚Έ CA μΈμ¦μ„μ— λ€ν•΄ μ ν¨ν• μ§€ CA λ©λ΅μ—μ„ ν™•μΈν•λ‹¤.
4. ν΄λΌμ΄μ–ΈνΈλ” λ‚μ λ°”μ΄νΈλ΅ <mark class="high">λ€μΉ­ ν‚¤λ¥Ό μƒμ„±ν•κ³  μ„λ²„μ κ³µκ°ν‚¤λ΅ μ•”νΈν™”</mark>ν•μ—¬ λ³΄λ‚Έλ‹¤.
5. λ§μ•½ 2λ² λ‹¨κ³„μ—μ„ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈ μΈμ¦μ„λ¥Ό ν•¨κ» μ”κµ¬ν–λ‹¤λ©΄, <mark class="high">ν΄λΌμ΄μ–ΈνΈμ μΈμ¦μ„</mark>μ™€ <mark class="high">ν΄λΌμ΄μ–ΈνΈμ κ°μΈν‚¤λ΅ μ•”νΈν™”λ μ„μμ λ°”μ΄νΈ λ¬Έμμ—΄</mark>μ„ ν•¨κ» λ³΄λ‚΄μ¤€λ‹¤.
6. μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ μΈμ¦μ„λ¥Ό ν™•μΈ ν›„, <mark class="high">λ€μΉ­ν‚¤λ¥Ό μμ‹ μ κ°μΈν‚¤λ΅ λ³µνΈν™”</mark> ν›„ λ€μΉ­ λ§μ¤ν„° ν‚¤ μƒμ„±μ— ν™μ©ν•λ‹¤.
7. ν΄λΌμ΄μ–ΈνΈλ” handshake κ³Όμ •μ΄ μ™„λ£λμ—λ‹¤λ” finished λ©”μ‹μ§€λ¥Ό μ„λ²„μ— λ³΄λ‚΄λ©΄μ„, <mark class="high">μ§€κΈκΉμ§€ λ³΄λ‚Έ κµν™ λ‚΄μ—­λ“¤μ„ ν•΄μ‹± ν›„ κ·Έ κ°’μ„ λ€μΉ­ν‚¤λ΅ μ•”νΈν™”</mark>ν•μ—¬ κ°™μ΄ λ‹΄μ•„ λ³΄λ‚΄μ¤€λ‹¤.
8. μ„λ²„λ„ λ™μΌν•κ² κµν™ λ‚΄μ©λ“¤μ„ ν•΄μ‹±ν• λ’¤ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ³΄λ‚΄μ¤€ κ°’κ³Ό μΌμΉν•λ” μ§€ ν™•μΈν•λ‹¤. μΌμΉν•λ©΄ μ„λ²„λ„ λ§μ°¬κ°€μ§€λ΅ finished λ©”μ‹μ§€λ¥Ό <mark class="high">μ΄λ²μ— λ§λ“  λ€μΉ­ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ λ³΄λ‚Έλ‹¤.</mark>
9. ν΄λΌμ΄μ–ΈνΈλ” ν•΄λ‹Ή λ©”μ‹μ§€λ¥Ό λ€μΉ­ν‚¤λ΅ λ³µνΈν™”ν•μ—¬ μ„λ΅ ν†µμ‹ μ΄ κ°€λ¥ν• μ‹ λΆ°λ°›μ€ μ‚¬μ©μλ€ κ±Έ μΈμ§€ν•κ³ , μ•μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” ν•΄λ‹Ή λ€μΉ­ν‚¤λ΅ λ°μ΄ν„°λ¥Ό μ•μ „ν•κ² μ£Όκ³ λ°›μ„ μ μκ² λλ‹¤.

## π“ reference

- [κΈ°μ  λ©΄μ ‘ μ¤€λΉ„ - github](https://github.com/gyoogle/tech-interview-for-developer/blob/master/Computer%20Science/Network/TLS%20HandShake.md)
- [TLS handshake - ν‹°μ¤ν† λ¦¬](https://sunrise-min.tistory.com/entry/TLS-Handshake%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%A7%84%ED%96%89%EB%90%98%EB%8A%94%EA%B0%80?category=1055346)
